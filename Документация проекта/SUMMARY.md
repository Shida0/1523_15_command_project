# üåå **–°–í–û–î–ö–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò ASTEROID WATCH**

## üìö **–°–¢–†–£–ö–¢–£–†–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò**

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤:

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| [README.md](README.md) | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |
| [overview.md](overview.md) | –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π |
| [asteroid_domain.md](asteroid_domain.md) | –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤ |
| [approach_domain.md](approach_domain.md) | –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞ —Å–±–ª–∏–∂–µ–Ω–∏–π |
| [threat_domain.md](threat_domain.md) | –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞ —É–≥—Ä–æ–∑ |
| [shared_components.md](shared_components.md) | –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–Ω–µ—à–Ω–∏–µ API |
| [infrastructure.md](infrastructure.md) | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —Å—Ö–µ–º—ã, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| [examples.md](examples.md) | –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| [testing.md](testing.md) | –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ |
| [deployment.md](deployment.md) | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| [SUMMARY.md](SUMMARY.md) | –¢–µ–∫—É—â–∏–π —Ñ–∞–π–ª - —Å–≤–æ–¥–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |

## üß© **–ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´**

### **–î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **asteroid** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞—Å—Ç–µ—Ä–æ–∏–¥–∞—Ö
- **approach** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –æ —Å–±–ª–∏–∂–µ–Ω–∏—è—Ö
- **threat** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏ —É–≥—Ä–æ–∑

### **–û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **config** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **database** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **external_api** - –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å NASA API
- **infrastructure** - –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- **resilience** - –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏
- **transaction** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- **utils** - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

## üîÑ **–†–ê–ë–û–ß–ò–ï –ü–†–û–¶–ï–°–°–´**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
1. **–î–∞–Ω–Ω—ã–µ –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤** ‚Üí NASA SBDB API ‚Üí `NASASBDBClient` ‚Üí `AsteroidRepository` ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
2. **–î–∞–Ω–Ω—ã–µ —Å–±–ª–∏–∂–µ–Ω–∏–π** ‚Üí NASA CAD API ‚Üí `CADClient` ‚Üí `ApproachRepository` ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  
3. **–î–∞–Ω–Ω—ã–µ —É–≥—Ä–æ–∑** ‚Üí NASA Sentry API ‚Üí `SentryClient` ‚Üí `ThreatRepository` ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UnitOfWork:**
```python
from shared.transaction.uow import UnitOfWork
from shared.database.engine import AsyncSessionLocal

async with UnitOfWork(AsyncSessionLocal) as uow:
    # –†–∞–±–æ—Ç–∞ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    asteroid = await uow.asteroid_repo.get_by_designation("433")
    approaches = await uow.approach_repo.get_by_asteroid(asteroid.id)
    threat = await uow.threat_repo.get_by_asteroid_id(asteroid.id)
    
    # –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤–º–µ—Å—Ç–µ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞
    await uow.commit()
```

## üß™ **–ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø**

### **–ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Å—Ç–µ—Ä–æ–∏–¥–∞ –ø–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—é:**
```python
from domains.asteroid.services.asteroid_service import AsteroidService
from shared.database.engine import AsyncSessionLocal

service = AsteroidService(AsyncSessionLocal)
asteroid = await service.get_by_designation("433")
if asteroid:
    print(f"–ù–∞–π–¥–µ–Ω –∞—Å—Ç–µ—Ä–æ–∏–¥: {asteroid['name']}")
```

### **–ü–æ–ª—É—á–µ–Ω–∏–µ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–±–ª–∏–∂–µ–Ω–∏–π:**
```python
from domains.approach.services.approach_service import ApproachService
from shared.database.engine import AsyncSessionLocal

service = ApproachService(AsyncSessionLocal)
upcoming = await service.get_upcoming(10)
print(f"–ë–ª–∏–∂–∞–π—à–∏–µ —Å–±–ª–∏–∂–µ–Ω–∏—è: {len(upcoming)}")
```

### **–ü–æ–ª—É—á–µ–Ω–∏–µ —É–≥—Ä–æ–∑ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞:**
```python
from domains.threat.services.threat_service import ThreatService
from shared.database.engine import AsyncSessionLocal

service = ThreatService(AsyncSessionLocal)
high_risk = await service.get_high_risk(20)
print(f"–£–≥—Ä–æ–∑—ã –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞: {len(high_risk)}")
```

## üöÄ **–†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï**

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config.yaml`
3. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `alembic upgrade head`
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `uvicorn main:app --host 0.0.0.0 --port 8000`

## üìä **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –¢–æ–ª—å–∫–æ –º–æ–¥—É–ª—å–Ω—ã–µ
pytest tests/unit/

# –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ
pytest tests/integration/

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=. --cov-report=html
```

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Asteroid Watch –∑–∞–≤–µ—Ä—à–µ–Ω–∞.** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.