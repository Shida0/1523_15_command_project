### Общая архитектура

``` text
┌─────────────────────────────────────────────┐
│              NASA API Источники             │
├─────────────────────────────────────────────┤
│  ┌─────────────┐     ┌─────────────┐       │
│  │  SBDB API   │     │   CAD API   │       │
│  │ (Уровень 1) │     │ (Уровень 2) │       │
│  └──────┬──────┘     └──────┬──────┘       │
└─────────┼───────────────────┼──────────────┘
          │                   │
┌─────────▼───────────────────▼──────────────┐
│          Обработка и анализ данных         │
├─────────────────────────────────────────────┤
│  ┌─────────────┐     ┌─────────────┐       │
│  │   Парсинг   │     │  Валидация  │       │
│  │    данных   │     │    данных   │       │
│  └──────┬──────┘     └──────┬──────┘       │
└─────────┼───────────────────┼──────────────┘
          │                   │
┌─────────▼───────────────────▼──────────────┐
│         Хранение данных (PostgreSQL)       │
├─────────────────────────────────────────────┤
│  ┌───────────────────────────────────────┐ │
│  │       SQLAlchemy ORM Модели           │ │
│  │  • Астероиды                          │ │
│  │  • Сближения                          │ │
│  │  • Оценки угроз                       │ │
│  └───────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

### Файловая структура

``` text
asteroid-watch/
├── 📁 models/                    # Модели базы данных
│   ├── __init__.py
│   ├── base.py                  # Базовый класс моделей
│   ├── asteroid.py              # Модель астероидов (PHA)
│   ├── close_approach.py        # Модель сближений
│   ├── threat_assessment.py     # Модель оценок угроз
│   ├── engine.py                # Настройка подключения к БД
│   └── get_db_config.py         # Конфигурация БД
│
├── 📁 controllers/              # Контроллеры (Data Access Layer)
│   ├── __init__.py
│   ├── base_controller.py       # Базовый контроллер с CRUD
│   ├── asteroid_controller.py   # Контроллер астероидов
│   ├── approach_controller.py   # Контроллер сближений
│   └── threat_controller.py     # Контроллер оценок угроз
│
├── 📁 utils/                    # Вспомогательные модули
│   ├── __init__.py
│   ├── get_data.py              # Уровень 1: NASA SBDB API
│   ├── cad_api.py               # Уровень 2: NASA CAD API
│   ├── space_math.py            # Математические расчеты
│   ├── monitoring.py            # Мониторинг сближений
│   ├── get_date.py              # Парсинг дат из CAD API
│   └── write_to_db.py           # Запись данных в БД
│
├── 📁 migrations/               # Миграции базы данных
├── .env.example                 # Пример переменных окружения
├── requirements.txt             # Зависимости Python
├── alembic.ini                  # Конфигурация Alembic
├── update_db.py                 # Скрипт ежедневного обновления
└── README.md                    # Документация
```

